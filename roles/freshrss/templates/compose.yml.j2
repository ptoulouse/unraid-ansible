---
#
# {{ freshrss_stack_description }}
#
services:

  freshrss:
    container_name: {{ freshrss_container_name }}
    image: lscr.io/linuxserver/freshrss:{{ freshrss_version }}
    restart: unless-stopped
    networks:
      - {{ traefik_network }}
    volumes:
      - {{ freshrss_data_path }}/config:/config
    environment:
      PGID: {{ freshrss_gid }}
      PUID: {{ freshrss_uid }}
      TZ: {{ timezone }}
    security_opt:
      - no-new-privileges:true
    labels:
      net.unraid.docker.icon: {{ freshrss_icon_url }}
      net.unraid.docker.managed: composeman
      net.unraid.docker.shell: bash
      net.unraid.docker.webui: https://{{ freshrss_hostname }}.{{ domain_name }}
      traefik.enable: "true"
      traefik.http.routers.freshrss.entrypoints: https
      traefik.http.routers.freshrss.middlewares: auth-chain@file
      traefik.http.routers.freshrss.rule: Host(`{{ freshrss_hostname }}.{{ domain_name }}`)
      traefik.http.routers.freshrss.service: freshrss
      traefik.http.services.freshrss.loadbalancer.server.port: 80
      
networks:
  {{ traefik_network }}:
    external: true

